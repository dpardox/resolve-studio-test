<form [formGroup]="form" (submit)="onSubmit()" #f="ngForm" novalidate *ngIf="loaded else loading">
  <div class="field">
    <p class="control has-icons-left has-icons-right">
      <input class="input is-medium" type="email" formControlName="email" placeholder="Correo electrónico">
      <span class="icon is-small is-left">
        <i class="fas fa-envelope"></i>
      </span>
      <span class="icon is-small is-right" *ngIf="email.valid">
        <i class="fas fa-check"></i>
      </span>
      <span class="icon is-small is-right" *ngIf="email.invalid && (email.dirty || email.touched || f.submitted)">
        <i class="fas fa-times"></i>
      </span>
    </p>
  </div>
  <div class="field">
    <p class="control has-icons-left has-icons-right">
      <input class="input is-medium" type="password" formControlName="password" placeholder="Contraseña">
      <span class="icon is-small is-left">
        <i class="fas fa-lock"></i>
      </span>
      <span class="icon is-small is-right" *ngIf="password.invalid && (password.dirty || password.touched || f.submitted)">
        <i class="fas fa-times"></i>
      </span>
    </p>
  </div>
  <div class="field">
    <p class="control has-icons-left has-icons-right">
      <input class="input is-medium" type="password" formControlName="password_confirmation" placeholder="Confirmar contraseña">
      <span class="icon is-small is-left">
        <i class="fas fa-lock"></i>
      </span>
      <span class="icon is-small is-right" *ngIf="confirmation.invalid && (confirmation.dirty || confirmation.touched || f.submitted)">
        <i class="fas fa-times"></i>
      </span>
    </p>
  </div>
  <div class="field">
    <p class="control">
      <button class="button is-medium is-fullwidth is-primary" [ngClass]="{ 'is-loading': sending }" type="submit">Restablecer contraseña</button>
    </p>
  </div>
</form>

<div class="has-text-centered has-margin-top-20">
  <a class="has-text-grey-light" routerLink="/login">Iniciar sesión</a>
</div>

<ng-template #loading>
  <h1 class="has-text-centered is-size-5 has-text-grey-lighter">Cargando...</h1>
</ng-template>
